Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	convert_vcf_to_plink
	1	format_VCF
	1	simulate_genotypes_4popsplit
	3

[Thu Jan  7 18:18:43 2021]
rule simulate_genotypes_4popsplit:
    output: output/Simulate_Genotypes/4PopSplit/V1/genos.vcf, output/Simulate_Genotypes/4PopSplit/V1/genos.pop
    jobid: 2
    wildcards: model=4PopSplit, rep=V1

[Thu Jan  7 18:18:45 2021]
Finished job 2.
1 of 3 steps (33%) done

[Thu Jan  7 18:18:45 2021]
rule format_VCF:
    input: output/Simulate_Genotypes/4PopSplit/V1/genos.vcf
    output: output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz, output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz.csi
    jobid: 1
    wildcards: model=4PopSplit, rep=V1

[Thu Jan  7 18:18:45 2021]
Error in rule format_VCF:
    jobid: 1
    output: output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz, output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz.csi
    shell:
        
	head -n6 output/Simulate_Genotypes/4PopSplit/V1/genos.vcf > output/Simulate_Genotypes/4PopSplit/V1/header.txt
	cat output/Simulate_Genotypes/4PopSplit/V1/header.txt <(cat output/Simulate_Genotypes/4PopSplit/V1/genos.vcf | awk -v OFS="	" 'NR>6 {$3=$1"_"$2"_A_T";$4="A"; $5="T"; print ;}') | bgzip > output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz.csi
	bcftools index output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz.csi
	rm output/Simulate_Genotypes/4PopSplit/V1/header.txt
	

Removing output files of failed job format_VCF since they might be corrupted:
output/Simulate_Genotypes/4PopSplit/V1/genos.ids.vcf.gz
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /Users/jenniferblanc/polygenic_adaptation_stratification/.snakemake/log/2021-01-07T181843.263112.snakemake.log
