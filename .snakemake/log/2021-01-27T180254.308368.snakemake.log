Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 500
Job counts:
	count	jobs
	1	all
	2	calc_prs
	2	calc_true_gv
	2	pick_SNPS
	7

[Wed Jan 27 18:02:54 2021]
rule pick_SNPS:
    input: output/Simulate_Phenotypes/4PopSplit/V1/C1/genos-gwas_common.effects.txt, output/Run_GWAS/4PopSplit/V1/C1/genos-gwas_common.pheno_random.glm.linear, output/Run_GWAS/4PopSplit/V1/C1/genos-gwas_common.pheno_strat.glm.linear
    output: output/PRS/4PopSplit/V1/C1/genos-gwas_common.c.betas, output/PRS/4PopSplit/V1/C1/genos-gwas_common.c.p.betas, output/PRS/4PopSplit/V1/C1/genos-gwas_common.nc.betas
    jobid: 6
    wildcards: model=4PopSplit, rep=V1, config=C1

Rscript code/PRS/clump.R output/Simulate_Phenotypes/4PopSplit/V1/C1/genos-gwas_common.effects.txt output/Run_GWAS/4PopSplit/V1/C1/genos-gwas_common 5e-4 output/PRS/4PopSplit/V1/C1/genos-gwas_common
Submitted job 6 with external jobid 'Submitted batch job 8581812'.

[Wed Jan 27 18:02:56 2021]
rule pick_SNPS:
    input: output/Simulate_Phenotypes/4PopSplit/V1/C2/genos-gwas_common.effects.txt, output/Run_GWAS/4PopSplit/V1/C2/genos-gwas_common.pheno_random.glm.linear, output/Run_GWAS/4PopSplit/V1/C2/genos-gwas_common.pheno_strat.glm.linear
    output: output/PRS/4PopSplit/V1/C2/genos-gwas_common.c.betas, output/PRS/4PopSplit/V1/C2/genos-gwas_common.c.p.betas, output/PRS/4PopSplit/V1/C2/genos-gwas_common.nc.betas
    jobid: 9
    wildcards: model=4PopSplit, rep=V1, config=C2

Rscript code/PRS/clump.R output/Simulate_Phenotypes/4PopSplit/V1/C2/genos-gwas_common.effects.txt output/Run_GWAS/4PopSplit/V1/C2/genos-gwas_common 5e-4 output/PRS/4PopSplit/V1/C2/genos-gwas_common
Submitted job 9 with external jobid 'Submitted batch job 8581813'.

[Wed Jan 27 18:02:56 2021]
rule calc_true_gv:
    input: output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.psam, output/Simulate_Phenotypes/4PopSplit/V1/C2/genos-gwas_common.effects.txt, output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.afreq
    output: output/PRS/4PopSplit/V1/C2/genos-test_common.true.sscore
    jobid: 4
    wildcards: model=4PopSplit, rep=V1, config=C2


        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.afreq         --score output/Simulate_Phenotypes/4PopSplit/V1/C2/genos-gwas_common.effects.txt cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C2/genos-test_common.true         
Submitted job 4 with external jobid 'Submitted batch job 8581815'.

[Wed Jan 27 18:02:59 2021]
rule calc_true_gv:
    input: output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.psam, output/Simulate_Phenotypes/4PopSplit/V1/C1/genos-gwas_common.effects.txt, output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.afreq
    output: output/PRS/4PopSplit/V1/C1/genos-test_common.true.sscore
    jobid: 3
    wildcards: model=4PopSplit, rep=V1, config=C1


        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.afreq         --score output/Simulate_Phenotypes/4PopSplit/V1/C1/genos-gwas_common.effects.txt cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C1/genos-test_common.true         
Submitted job 3 with external jobid 'Submitted batch job 8581816'.

[Wed Jan 27 18:02:59 2021]
rule calc_prs:
    input: output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.psam, output/PRS/4PopSplit/V1/C2/genos-gwas_common.c.betas, output/PRS/4PopSplit/V1/C2/genos-gwas_common.c.p.betas, output/PRS/4PopSplit/V1/C2/genos-gwas_common.nc.betas, output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.afreq
    output: output/PRS/4PopSplit/V1/C2/genos-test_common.c.sscore, output/PRS/4PopSplit/V1/C2/genos-test_common.c.p.sscore, output/PRS/4PopSplit/V1/C2/genos-test_common.nc.sscore
    jobid: 2
    wildcards: model=4PopSplit, rep=V1, config=C2


        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.afreq         --score output/PRS/4PopSplit/V1/C2/genos-gwas_common.c.betas cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C2/genos-test_common.c         --score-col-nums 3,4

        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.afreq         --score output/PRS/4PopSplit/V1/C2/genos-gwas_common.c.p.betas cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C2/genos-test_common.c.p         --score-col-nums 3,4

        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C2/genos-test_common.afreq         --score output/PRS/4PopSplit/V1/C2/genos-gwas_common.nc.betas cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C2/genos-test_common.nc         --score-col-nums 3,4
        
Submitted job 2 with external jobid 'Submitted batch job 8581817'.

[Wed Jan 27 18:03:02 2021]
rule calc_prs:
    input: output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.psam, output/PRS/4PopSplit/V1/C1/genos-gwas_common.c.betas, output/PRS/4PopSplit/V1/C1/genos-gwas_common.c.p.betas, output/PRS/4PopSplit/V1/C1/genos-gwas_common.nc.betas, output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.afreq
    output: output/PRS/4PopSplit/V1/C1/genos-test_common.c.sscore, output/PRS/4PopSplit/V1/C1/genos-test_common.c.p.sscore, output/PRS/4PopSplit/V1/C1/genos-test_common.nc.sscore
    jobid: 1
    wildcards: model=4PopSplit, rep=V1, config=C1


        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.afreq         --score output/PRS/4PopSplit/V1/C1/genos-gwas_common.c.betas cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C1/genos-test_common.c         --score-col-nums 3,4

        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.afreq         --score output/PRS/4PopSplit/V1/C1/genos-gwas_common.c.p.betas cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C1/genos-test_common.c.p         --score-col-nums 3,4

        plink2         --pfile output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common         --read-freq output/Simulate_Genotypes/4PopSplit/V1/C1/genos-test_common.afreq         --score output/PRS/4PopSplit/V1/C1/genos-gwas_common.nc.betas cols=dosagesum,scoresums         --out output/PRS/4PopSplit/V1/C1/genos-test_common.nc         --score-col-nums 3,4
        
Submitted job 1 with external jobid 'Submitted batch job 8581819'.

[Wed Jan 27 18:03:02 2021]
localrule all:
    input: output/PRS/4PopSplit/V1/C1/genos-test_common.c.p.sscore, output/PRS/4PopSplit/V1/C2/genos-test_common.c.p.sscore, output/PRS/4PopSplit/V1/C1/genos-test_common.true.sscore, output/PRS/4PopSplit/V1/C2/genos-test_common.true.sscore
    jobid: 0

[Wed Jan 27 18:03:04 2021]
Finished job 6.
1 of 7 steps (14%) done
[Wed Jan 27 18:03:04 2021]
Finished job 9.
2 of 7 steps (29%) done
Submitted job 0 with external jobid 'Submitted batch job 8581820'.
Complete log: /project2/jjberg/jgblanc/polygenic_adaptation_stratification/.snakemake/log/2021-01-27T180254.308368.snakemake.log
